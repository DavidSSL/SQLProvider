<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>SQL Provider Static Parameters
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Type providers for SQL server access.">
    <meta name="author" content="Ross McKinlay, Colin Bull, Tuomas Hietanen">

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">

    <link type="text/css" rel="stylesheet" href="../content/style.css" />
    <script type="text/javascript" src="../content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/fsprojects/SQLProvider">github page</a></li>
        </ul>
        <h3 class="muted"><a href="../index.html">SQLProvider</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="SQL-Provider-Static-Parameters" class="anchor" href="#SQL-Provider-Static-Parameters">SQL Provider Static Parameters</a></h1>
<h2><a name="Global-parameters" class="anchor" href="#Global-parameters">Global parameters</a></h2>
<p>These are the "common" parameters used by all SqlProviders.</p>
<p>All static parameters must be known at compile time, for strings this can be
achieved by adding the <code>[&lt;Literal&gt;]</code> attribute if you are not passing it inline.</p>
<h3><a name="ConnectionString" class="anchor" href="#ConnectionString">ConnectionString</a></h3>
<p>This is the connection string commonly used to connect to a database server
instance.  See the documentation on your desired database type to find out
more.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">[&lt;<span class="i">Literal</span>&gt;]
<span class="k">let</span> <span class="i">sqliteConnectionString</span> <span class="o">=</span>
    <span class="s">&quot;Data Source=&quot;</span> <span class="o">+</span> <span class="k">__SOURCE_DIRECTORY__</span> <span class="o">+</span> <span class="s">@&quot;\northwindEF.db;Version=3&quot;</span>
</code></pre></td>
</tr>
</table>
<h3><a name="ConnectionStringName" class="anchor" href="#ConnectionStringName">ConnectionStringName</a></h3>
<p>Instead of storing the connection string in the source code / <code>fsx</code> script, you
can store values in the <code>App.config</code> file:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="xml"><span class="k">&lt;</span><span class="i">connectionStrings</span><span class="k">&gt;</span>  
  <span class="k">&lt;</span><span class="i">add</span> <span class="o">name</span><span class="k">="MyConnectionString"</span>   
   <span class="o">providerName</span><span class="k">="System.Data.ProviderName"</span>   
   <span class="o">connectionString</span><span class="k">="Valid Connection String;"</span> <span class="k">/&gt;</span>  
<span class="k">&lt;/</span><span class="i">connectionStrings</span><span class="k">&gt;</span>
</code></pre></td></tr></table>
<p>Another, usually easier option is to give a runtime connection string as parameter for <code>.GetDataContext(...)</code> method.</p>
<p>In your source file:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">connexStringName</span> <span class="o">=</span> <span class="s">&quot;MyConnectionString&quot;</span>
</code></pre></td>
</tr>
</table>
<h3><a name="DatabaseVendor" class="anchor" href="#DatabaseVendor">DatabaseVendor</a></h3>
<p>Select enumeration from <code>Common.DatabaseProviderTypes</code> to specify which database
type the provider will be connecting to.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">[&lt;<span class="i">Literal</span>&gt;]
<span class="k">let</span> <span class="i">dbVendor</span> <span class="o">=</span> <span class="i">Common</span><span class="o">.</span><span class="i">DatabaseProviderTypes</span><span class="o">.</span><span class="i">SQLITE</span>
</code></pre></td>
</tr>
</table>
<h3><a name="ResolutionPath" class="anchor" href="#ResolutionPath">ResolutionPath</a></h3>
<p>When using database vendors other than SQL Server, Access and ODBC, a third party driver
is required. This parameter should point to an absolute or relative directory where the
relevant assemblies are located. See the database vendor specific page for more details.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">[&lt;<span class="i">Literal</span>&gt;]
<span class="k">let</span> <span class="i">resolutionPath</span> <span class="o">=</span>
    <span class="k">__SOURCE_DIRECTORY__</span> <span class="o">+</span> <span class="s">@&quot;..\..\..\files\sqlite&quot;</span>
</code></pre></td>
</tr>
</table>
<h3><a name="IndividualsAmount" class="anchor" href="#IndividualsAmount">IndividualsAmount</a></h3>
<p>Number of instances to retrieve when using the <a href="individuals.html">individuals</a> feature.
Default is 1000.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">indivAmt</span> <span class="o">=</span> <span class="n">500</span>
</code></pre></td>
</tr>
</table>
<h3><a name="UseOptionTypes" class="anchor" href="#UseOptionTypes">UseOptionTypes</a></h3>
<p>If set to true, all nullable fields will be represented by F# option types.  If false, nullable
fields will be represented by the default value of the column type - this is important because
the provider will return 0 instead of null, which might cause problems in some scenarios.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">[&lt;<span class="i">Literal</span>&gt;]
<span class="k">let</span> <span class="i">useOptionTypes</span> <span class="o">=</span> <span class="k">true</span>
</code></pre></td>
</tr>
</table>
<h3><a name="ContextSchemaPath" class="anchor" href="#ContextSchemaPath">ContextSchemaPath</a></h3>
<p>Defining <code>ContextSchemaPath</code> and placing a file with schema information according to the definition
enables offline mode that can be useful when the database is unavailable or slow to connect or access.
Schema information file can be generated by calling design-time method <code>SaveContextSchema</code>:</p>
<p>ctx.SaveContextSchema()</p>
<p>This method doesn't affect runtime execution. Note that since SQLProvider loads schema information lazily,
calling <code>SaveContextSchema</code> only saves the portion of the database schema that is sufficient to compile
queries referenced in the scope of the current solution or script. Therefore it is recommended to execute
it after the successful build of the whole solution. Type the method name with parentheses, if you then
type a dot (.), you should see a tooltip with information when the schema was last saved. Once the schema
is saved, the outcome of the method execution is stored in memory, so the file will not be overwritten.
In case the database schema changes and the schema file must be updated, remove the outdated file, reload
the solution and retype or uncomment a call to <code>SaveContextSchema</code> to regenerate the schema file.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">[&lt;<span class="i">Literal</span>&gt;]
<span class="k">let</span> <span class="i">contextSchemaPath</span> <span class="o">=</span>
    <span class="k">__SOURCE_DIRECTORY__</span> <span class="o">+</span> <span class="s">@&quot;.\sqlite.schema&quot;</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Platform-Considerations" class="anchor" href="#Platform-Considerations">Platform Considerations</a></h2>
<h3><a name="MSSQL" class="anchor" href="#MSSQL">MSSQL</a></h3>
<p>TableNames to filter amount of tables.</p>
<h3><a name="Oracle" class="anchor" href="#Oracle">Oracle</a></h3>
<p>TableNames to filter amount of tables, and Owner.</p>
<h4><a name="Owner-Used-by-Oracle-MySQL-and-PostgreSQL" class="anchor" href="#Owner-Used-by-Oracle-MySQL-and-PostgreSQL">Owner (Used by Oracle, MySQL and PostgreSQL)</a></h4>
<p>This has different meanings when running queries against different database vendors</p>
<p>For PostgreSQL, this sets the schema name where the target tables belong to. Can be also a list separated by spaces, newlines, commas or semicolons.</p>
<p>For MySQL, this sets the database name (Or schema name, for MySQL, it's the same thing). Can be also a list separated by spaces, newlines, commas or semicolons.</p>
<p>For Oracle, this sets the owner of the scheme.</p>
<h3><a name="SQLite" class="anchor" href="#SQLite">SQLite</a></h3>
<p>The additional <a href="sqlite.html#SQLiteLibrary">SQLiteLibrary parameter</a> can be used to specify
which SQLite library to load.</p>
<h3><a name="PostgreSQL" class="anchor" href="#PostgreSQL">PostgreSQL</a></h3>
<p>No extra parameters.</p>
<h3><a name="MySQL" class="anchor" href="#MySQL">MySQL</a></h3>
<p>No extra parameters.</p>
<h3><a name="ODBC" class="anchor" href="#ODBC">ODBC</a></h3>
<p>No extra parameters.</p>
<h3><a name="Example" class="anchor" href="#Example">Example</a></h3>
<p>It is recommended to use named static parameters in your type provider definition like so</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span class="i">sql</span> <span class="o">=</span> <span class="i">SqlDataProvider</span><span class="o">&lt;</span>
            <span class="i">ConnectionString</span> <span class="o">=</span> <span class="i">sqliteConnectionString</span>,
            <span class="i">DatabaseVendor</span> <span class="o">=</span> <span class="i">dbVendor</span>,
            <span class="i">ResolutionPath</span> <span class="o">=</span> <span class="i">resolutionPath</span>,
            <span class="i">UseOptionTypes</span> <span class="o">=</span> <span class="i">useOptionTypes</span>
          <span class="o">&gt;</span>
</code></pre></td>
</tr>
</table>
<h1><a name="SQL-Provider-Data-Context-Parameters" class="anchor" href="#SQL-Provider-Data-Context-Parameters">SQL Provider Data Context Parameters</a></h1>
<p>Besides the static parameters the <code>.GetDataContext(...)</code> method has optional parameters:</p>
<ul>
<li>connectionString - The database connection string on runtime.</li>
<li>resolutionPath - The location to look for dynamically loaded assemblies containing database vendor specific connections and custom types</li>
<li>transactionOptions - TransactionOptions for the transaction created on SubmitChanges.</li>
<li>commandTimeout - SQL command timeout. Maximum time for single SQL-command in seconds.</li>
<li>selectOperations - Execute select-clause operations in SQL database rahter than .NET-side.</li>
</ul>


        </div>
        <div class="span3">
          <ul class="nav nav-list" id="menu">
            <li class="nav-header">SQLProvider</li>
            <li><a href="../index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/SQLProvider">Get Library via NuGet</a></li>
            <li><a href="http://github.com/fsprojects/SQLProvider">Source Code on GitHub</a></li>
            <li><a href="http://github.com/fsprojects/SQLProvider/blob/master/LICENSE.txt">License</a></li>
            <li><a href="http://github.com/fsprojects/SQLProvider/blob/master/RELEASE_NOTES.md">Release Notes</a></li>
            
        
            <li class="nav-header">Documentation</li>
              <li><a href="../core/general.html">General</a></li>
              <li><a href="../core/parameters.html">Static Parameters</a></li>
              <li><a href="../core/querying.html">Querying</a></li>
              <li><a href="../core/constraints-relationships.html">Constraints & Relationships</a></li>
              <li><a href="../core/crud.html">CRUD</a></li>
              <li><a href="../core/programmability.html">Programmability</a></li>
              <li><a href="../core/individuals.html">Individuals</a></li>
              <li><a href="../core/composable.html">Composable Query</a></li>
              <li><a href="../core/mssql.html">SQL Server</a></li>
              <li><a href="../core/oracle.html">Oracle</a></li>
              <li><a href="../core/sqlite.html">SQLite</a></li>
              <li><a href="../core/postgresql.html">PostgreSQL</a></li>
              <li><a href="../core/mysql.html">MySQL</a></li>
              <li><a href="../core/odbc.html">ODBC</a></li>
              <li><a href="../reference/index.html">Internal API Docs</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/fsprojects/SQLProvider"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
  </body>
  </html>
